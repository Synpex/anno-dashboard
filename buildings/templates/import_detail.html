{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>ANNO Amsterdam</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <script src='https://api.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.css' rel='stylesheet' />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.css">
<script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify"></script>
<style>
    .tagify__tag {
    @apply bg-gray-200 rounded-full text-xs py-1 px-2;
}

.tagify__tag .tagify__tag__removeBtn {
    @apply bg-transparent border-none;
}

/* Optionally, style the focus state */
.tagify--focus .tagify {
    @apply shadow-outline;
}

</style>
        {% tailwind_css %}
    </head>

    {% block content %}
    {% include 'navbar.html' %}

        <section class="px-10 mt-24">
          <div class="container mx-auto px-4 py-8">
            {# Status Bar #} {% include 'import_status_bar.html'%} {# Input fields #}
                  {% include 'map.html' %}
            <div class="bg-custom-blue shadow rounded-lg p-8 text-sky-900">
              <div class="md: grid md: grid-cols-2 gap-8">
                <div>
                  <label class="block text-sm font-semibold mb-2"
                    >Address [Preview]</label
                  >
                  <input
                    type="text"
                    placeholder="Address ..."
                    class="w-full p-2 border border-gray-300 rounded-lg mb-4 focus:border-sky-900"
                    value="{{ selected_building.building.address }}"
                  />
                  <label class="block text-sm font-semibold mb-2"
                    >Type of use [Preview]</label
                  >
                  <select class="w-full p-2 border border-gray-300 rounded-lg mb-4">
                    <option>Choose ...</option>
                  </select>

                  <label class="block text-sm font-semibold mb-2"
                    >Description (250+ characters)</label
                  >
                  <textarea
                    placeholder="Address ..."
                    class="w-full p-2 border border-gray-300 rounded-lg mb-4"
                    rows="5"
                  ></textarea>
                </div>
                <div>
                  <label class="block text-sm font-semibold mb-2"
                    >Name (to show an alternative name instead of the address)</label
                  >
                  <input
                    type="text"
                    placeholder="Address ..."
                    class="w-full p-2 border border-gray-300 rounded-lg mb-4"
                  />

                    <label class="block text-sm font-semibold mb-2"
                        >Tags</label>
                  <input id="tagInput" name="tags" placeholder="Add tags" class="w-full p-1/2 border border-gray-300 rounded-lg mb-4">

                  <label class="block text-sm font-semibold mb-2"
                    >construction year [Preview]</label
                  >
                  <input
                    type="text"
                    placeholder="1903"
                    class="w-full p-2 border border-gray-300 rounded-lg mb-4"
                    value="{{ selected_building.building.constructionYear }}"
                  />
                </div>
              </div>
            </div>
            <div class="flex justify-center mt-8">
                {% include 'cancel-button.html' %} {% include 'previous-button.html' %}
                {% include 'next-button.html' %}
            </div>
          </div>
        </section>
{% endblock %}
<script>
  // Initialize Tagify on the input element
  var input = document.getElementById('tagInput');
  var tagify = new Tagify(input);

  tagify.DOM.scope.classList.add('border', 'border-gray-300', 'rounded-lg', 'p-1', 'bg-white', 'focus:border-blue-500');

  // Listen to the 'add' event, which is triggered when a new tag is added
  tagify.on('add', onAddTag);

  // Function to handle a new tag added
  function onAddTag(e) {
    console.log("Added a tag:", e.detail.data.value);
  }
</script>

</html>
